<!DOCTYPE html>
<html lang="en">

<head>
	<title>mols index</title>
	<script src="https://aframe.io/releases/0.8.2/aframe.min.js"> </script>
	<script src="https://unpkg.com/aframe-animation-component@3.2.5/dist/aframe-animation-component.js"></script>
	<script src="./js/components/aframe-orbit-controls.min.js"></script>
	<style>
		#fader {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: 999999;
			pointer-events: none;
			background: black;
			animation-duration: 1000ms;
			animation-timing-function: ease-in-out;
		}

		@keyframes fade-out {
			from {
				opacity: 1
			}

			to {
				opacity: 0
			}
		}

		@keyframes fade-in {
			from {
				opacity: 0
			}

			to {
				opacity: 1
			}
		}

		#fader.fade-out {
			opacity: 0;
			animation-name: fade-out;
		}

		#fader.fade-in {
			opacity: 1;
			animation-name: fade-in;
		}
	</style>



</head>

<body>
	<svg id="fader"></svg>
	<script>

		function fadeInPage() {
			if (!window.AnimationEvent) { return; }
			var fader = document.getElementById('fader');
			fader.classList.add('fade-out');
		}

		fadeInPage();


		document.addEventListener('DOMContentLoaded', function () {
			if (!window.AnimationEvent) { return; }
			var anchors = document.getElementsByTagName('a');

			for (var idx = 0; idx < anchors.length; idx += 1) {
				if (anchors[idx].hostname !== window.location.hostname ||
					anchors[idx].pathname === window.location.pathname) {
					continue;
				}
				anchors[idx].addEventListener('click', function (event) {
					var fader = document.getElementById('fader'),
						anchor = event.currentTarget;

					var listener = function () {
						window.location = anchor.href;
						fader.removeEventListener('animationend', listener);
					};
					fader.addEventListener('animationend', listener);

					event.preventDefault();
					fader.classList.add('fade-in');
				});
			}
		});
		window.addEventListener('pageshow', function (event) {
			if (!event.persisted) {
				return;
			}
			var fader = document.getElementById('fader');
			fader.classList.remove('fade-in');
		});

	</script>



	<a-scene renderer="antialias: true;	
	sortObjects: true;
	" vr-mode-ui="enabled: false" cursor="rayOrigin: mouse">

		<a-assets>
			<img crossorigin id="link1" src="./assets/default-favicon.png">
			<img crossorigin id="indexText" src="./assets/indexText.png">
			<img crossorigin id="ceu" src="./assets/galaxy.jpg">
		</a-assets>

		<a-entity camera fov="20"
			orbit-controls="autoRotate:true; autoRotateSpeed:.01; target: 1 1.6 -0.5; minDistance: 0.1; maxDistance: 1800; initialPosition: 0 -10 -8"
			look-controls="enabled: false" touchEnabled="true">
		</a-entity>

		<a-light light="type:point; castShadow:true;" color="white" intensity="1" position="0 40 40"></a-light>
		<a-light light="type:point; castShadow:true;" color="white" intensity="1" position="40 -40 0"></a-light>

		<a-sky src="#ceu" animation="property: rotation; to: 0 -360 0; dur: 900000; easing: linear; loop: true"></a-sky>



		<a-sphere id="sph00" position="0 0 0" color="red">
			<a-animation begin="sph00S" attribute="scale" from="1 1 1" to="1.5 1.5 1.5" dur="200" easing="linear">
			</a-animation>
			<a-animation begin="sph00E" attribute="scale" from="1.5 1.5 1.5" to="1 1 1" dur="200" easing="linear">
			</a-animation>
			<a-text value="INDEX" position="0
			 1.2 0" width="10" color="black" align="center"></a-text>
		</a-sphere>
		<a-sphere id="sph01" position="10 0 0" color="pink"></a-sphere>
		<a-sphere id="sph02" position="10 0 10" color="magenta"></a-sphere>
		<a-sphere id="sph03" position="0 0 10" color="blue"></a-sphere>
		<a-sphere id="sph04" position="0 5 0" color="cyan"></a-sphere>
		<a-sphere id="sph05" position="-10 0 0" color="green"></a-sphere>
		<a-sphere id="sph06" position="-10 0 -10" color="orange"></a-sphere>
		<a-sphere id="sph07" position="0 0 -10" color="purple"></a-sphere>
		<a-sphere id="sph08" position="0 -5 0" color="skyblue"></a-sphere>

		<a-entity id="ln01" line="start: 0, 0, 0; end: 10, 0, 0; color:white; opacity:.2;"></a-entity>
		<a-entity id="ln02" line="start: 10, 0, 0; end: 10, 0, 10; color:white; opacity:.2;"></a-entity>
		<a-entity id="ln03" line="start: 10, 0, 10; end: 0, 0, 10; color:white; opacity:.2;"></a-entity>
		<a-entity id="ln04" line="start: 0, 0, 10; end: 0, 0, 0; color:white; opacity:.2;"></a-entity>
		<a-entity id="ln05" line="start: 0, 0, 0; end: 0 0 -10; color:white; opacity:.2;"></a-entity>
		<a-entity id="ln06" line="start: -10, 0, 0; end: -10, 0, -10; color:white; opacity:.2;"></a-entity>
		<a-entity id="ln07" line="start: -10, 0, -10; end: 0, 0, -10; color:white; opacity:.2;"></a-entity>
		<a-entity id="ln08" line="start: 0, 0, 0; end: -10 0 0; color:white; opacity:.2;"></a-entity>
		<a-entity id="ln09" line="start: 0, 5, 0; end: 10 0 0; color:white; opacity:.2;"></a-entity>
		<a-entity id="ln10" line="start: 0, 5, 0; end: -10 0 0; color:white; opacity:.2;"></a-entity>
		<a-entity id="ln11" line="start: 0, 5, 0; end: 0 0 10; color:white; opacity:.2;"></a-entity>
		<a-entity id="ln12" line="start: 0, 5, 0; end: 0 0 -10; color:white; opacity:.2;"></a-entity>
		<a-entity id="ln13" line="start: 0, -5, 0; end: 10 0 0; color:white; opacity:.2;"></a-entity>
		<a-entity id="ln14" line="start: 0, -5, 0; end: -10 0 0; color:white; opacity:.2;"></a-entity>
		<a-entity id="ln15" line="start: 0, -5, 0; end: 0 0 10; color:white; opacity:.2;"></a-entity>
		<a-entity id="ln16" line="start: 0, -5, 0; end: 0 0 -10; color:white; opacity:.2;"></a-entity>

		<script>
			const loc = [
				"0,0,0",
				"10,0,0",
				"10,0,10",
				"0,0,10",
				"0,5,0",
				"-10,0,0",
				"-10,0,-10",
				"0,0,-10",
				"0,-5,0"
			];
			const obj = [
				"sph00",
				"sph01",
				"sph02",
				"sph03",
				"sph04",
				"sph05",
				"sph06",
				"sph07",
				"sph08"
			];
			const newLoc = [9]


			function Ran(min, max) {
				return Math.random() * (max - min) + min;
			}
			function setPos(nl) {
				const doc = document.getElementById(obj[nl]);
				const fi = Ran(-5, 5);

				//console.log(loc[nl]);
				const sp = loc[nl].split(",", 3).map((e) => parseFloat(e));
				const s1 = sp[0] + fi;
				const s2 = sp[1] + fi;
				const s3 = sp[2] + fi;
				var comp = s1 + " " + s2 + " " + s3;

				//console.log(comp);

				doc.setAttribute("position", comp);

				newLoc[nl] = s1 + ", " + s2 + ", " + s3 + ";";
				console.log(comp);
			}


			function setLine(id, loc1, loc2) {
				const doc = document.getElementById(id);
				const str = "start: " + newLoc[loc1] + " end: " + newLoc[loc2] + "; color: white;";
				//console.log(newLoc[2]);
				doc.setAttribute("line", str);

			}

			for (var i = 0; i < 9; i++) {
				setPos(i);
			}


			setLine("ln01", 0, 1);
			setLine("ln02", 1, 2);
			setLine("ln03", 2, 3);
			setLine("ln04", 3, 0);
			setLine("ln05", 0, 5);
			setLine("ln06", 5, 6);
			setLine("ln07", 6, 7);
			setLine("ln08", 7, 0);
			setLine("ln09", 8, 1);
			setLine("ln10", 8, 3);
			setLine("ln11", 8, 5);
			setLine("ln12", 8, 7);
			setLine("ln13", 4, 1);
			setLine("ln14", 4, 3);
			setLine("ln15", 4, 5);
			setLine("ln16", 4, 7);



		</script>



		<script>
			sph00.addEventListener("mousedown", function () {
				addEventListener('click', function (event) {
					var fader = document.getElementById('fader'),
						anchor = event.currentTarget;

					var listener = function () {
						window.location = anchor.href;
						fader.removeEventListener('animationend', listener);
					};
					fader.addEventListener('animationend', listener);

					event.preventDefault();
					fader.classList.add('fade-in');
				});
				setTimeout(() => {  location.href = "index.html"; }, 1000);
				//location.href = "index.html";

			});
			sph00.addEventListener("mouseenter", function () {
				sph00.emit('sph00S');
			}
			);

			sph00.addEventListener("mouseleave", function () {
				sph00.emit('sph00E');
			}

			);




		</script>

	</a-scene>
</body>

</html>